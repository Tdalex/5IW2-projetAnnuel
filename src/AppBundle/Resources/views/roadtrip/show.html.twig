{% extends 'AppBundle::base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets
    '@AppBundle/Resources/public/min/plugin-min.css'
    '@AppBundle/Resources/public/min/custom-min.css'
    %}
    <link rel="stylesheet" href="{{ asset_url }}" type="text/css" />
    {% endstylesheets %}
{% endblock %}

{% block body %}
    <div id="roadtrip">
        <h1>{{ roadtrip.title }}</h1>
    </div>

    <i>Durée : {{ roadtrip.duration }}{% if roadtrip.duration == 1 %} jour{% else %} jours{% endif %}</i>

    <p><b>Description : </b>{{ roadtrip.description }}</p>

    <h3>Les étapes</h3>
    {% set i = 1 %}
    <div id="etapes">
        {% for stop in roadtrip.stops %}
            {% if roadtrip.stopStart == stop %}
                <div id="depart"><b>Départ : </b>{{ stop.address }}</div>
            {% elseif roadtrip.stopEnd == stop %}
                <div id="destination"><b>Destination : </b>{{ stop.address }}</div>
            {% else %}
                <div class="etape"><b>Etape {{ i }} : </b>{{ stop.address }}</div>
                {% set i = i+1 %}
            {% endif %}
        {% endfor %}
    </div>

    <ul>
        <li>
            <a href="{{ path('roadtrip_index') }}" class="btn btn-info">Retour aux roadtrips</a>
        </li>
        <li>
            <a href="{{ path('roadtrip_edit', { 'slug': roadtrip.slug }) }}" class="btn btn-warning">Modifier</a>
        </li>
        <li>
            {{ form_start(delete_form) }}
                <input type="submit" value="Delete" class="btn btn-danger">
            {{ form_end(delete_form) }}
        </li>
    </ul>

    <!--Footer-->
    <footer id="contact" class="page-footer default_color scrollspy">
        <div class="footer-copyright default_color">
            <div class="container">
                <p class="right">RoadTripeurs</p>
            </div>
        </div>
    </footer>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts
    '@AppBundle/Resources/public/min/plugin-min.js'
    '@AppBundle/Resources/public/min/custom-min.js'
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <script src="https://maps.googleapis.com/maps/api/js?key={{ google_api_key }}&callback=myMap&libraries=places&callback=initAutocomplete"></script>
{% endblock %}
